import{_ as M,d as _,r as w,o as I,a as B,c as S,g as C}from"./index.384ed5dc.js";const f=(t,e)=>{let s=Date(),a=(Date.parse(s)-Date.parse(t))/1e3,n=Math.floor(a/(3600*24)),i={hourstr:"",minutesstr:"",secondsstr:""};a=a%(3600*24);let h=Math.floor(a/3600);h<10?i.hourstr="0"+h:i.hourstr=h.toString(),a=a%3600;let r=Math.floor(a/60);r<10?i.minutesstr="0"+r:i.minutesstr=r.toString(),a=a%60,a<10?i.secondsstr="0"+a:i.secondsstr=a.toString();const l='<span class="digit">'+n+'</span> days <span class="digit">'+i.hourstr+'</span> : <span class="digit">'+i.minutesstr+'</span> : <span class="digit">'+i.secondsstr+"</span> ";e.innerHTML=l};function m(t,e){this.x=t,this.y=e}m.prototype={rotate:function(t){var e=this.x,s=this.y;return this.x=Math.cos(t)*e-Math.sin(t)*s,this.y=Math.sin(t)*e+Math.cos(t)*s,this},mult:function(t){return this.x*=t,this.y*=t,this},clone:function(){return new m(this.x,this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},set:function(t,e){return this.x=t,this.y=e,this}};function x(t,e,s,a,n,i){this.stretchA=t,this.stretchB=e,this.startAngle=s,this.angle=a,this.bloom=i,this.growFactor=n,this.r=1,this.isfinished=!1}x.prototype={draw:function(){var t=this.bloom.garden.ctx,e,s,a,n;e=new m(0,this.r).rotate(o.degrad(this.startAngle)),s=e.clone().rotate(o.degrad(this.angle)),a=e.clone().mult(this.stretchA),n=s.clone().mult(this.stretchB),t.strokeStyle=this.bloom.c,t.beginPath(),t.moveTo(e.x,e.y),t.bezierCurveTo(a.x,a.y,n.x,n.y,s.x,s.y),t.stroke()},render:function(){this.r<=this.bloom.r?(this.r+=this.growFactor,this.draw()):this.isfinished=!0}};function y(t,e,s,a,n){this.p=t,this.r=e,this.c=s,this.pc=a,this.petals=[],this.garden=n,this.init(),this.garden.addBloom(this)}y.prototype={draw:function(){var t,e=!0;this.garden.ctx.save(),this.garden.ctx.translate(this.p.x,this.p.y);for(var s=0;s<this.petals.length;s++)t=this.petals[s],t.render(),e=t.isfinished&&e;this.garden.ctx.restore(),e==!0&&this.garden.removeBloom(this)},init:function(){for(var t=360/this.pc,e=o.randomInt(0,90),s=0;s<this.pc;s++)this.petals.push(new x(o.random(o.options.petalStretch.min,o.options.petalStretch.max),o.random(o.options.petalStretch.min,o.options.petalStretch.max),e+s*t,t,o.random(o.options.growFactor.min,o.options.growFactor.max),this))}};function o(t,e){this.blooms=[],this.element=e,this.ctx=t}o.prototype={blooms:[],render:function(){for(var t=0;t<this.blooms.length;t++)this.blooms[t].draw()},addBloom:function(t){this.blooms.push(t)},removeBloom:function(t){for(var e,s=0;s<this.blooms.length;s++)if(e=this.blooms[s],e===t)return this.blooms.splice(s,1),this},createRandomBloom:function(t,e){this.createBloom(t,e,o.randomInt(o.options.bloomRadius.min,o.options.bloomRadius.max),o.randomrgba(o.options.color.rmin,o.options.color.rmax,o.options.color.gmin,o.options.color.gmax,o.options.color.bmin,o.options.color.bmax,o.options.color.opacity),o.randomInt(o.options.petalCount.min,o.options.petalCount.max))},createBloom:function(t,e,s,a,n){new y(new m(t,e),s,a,n,this)},clear:function(){this.blooms=[],this.ctx.clearRect(0,0,this.element.width,this.element.height)}};o.options={petalCount:{min:15,max:30},petalStretch:{min:.1,max:1},growFactor:{min:.1,max:1},bloomRadius:{min:1,max:1},density:100,growSpeed:1e3/60,color:{rmin:128,rmax:255,gmin:0,gmax:128,bmin:0,bmax:128,opacity:.1},tanAngle:60};o.random=function(t,e){return Math.random()*(e-t)+t};o.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};o.circle=2*Math.PI;o.degrad=function(t){return o.circle/360*t};o.raddeg=function(t){return t/o.circle*360};o.rgba=function(t,e,s,a){return"rgba("+t+","+e+","+s+","+a+")"};o.randomrgba=function(t,e,s,a,n,i,h){var r=Math.round(o.random(t,e)),l=Math.round(o.random(s,a)),c=Math.round(o.random(n,i)),d=5;return Math.abs(r-l)<=d&&Math.abs(l-c)<=d&&Math.abs(c-r)<=d,o.rgba(r,l,c,h)};const k=function(t,e,s){var a=t/Math.PI,n=19.5*(16*Math.pow(Math.sin(a),3)),i=-20*(13*Math.cos(a)-5*Math.cos(2*a)-2*Math.cos(3*a)-Math.cos(4*a));return new Array((e+n)/2.5,(s+i)/2.5)},A=function(t,e){t.className="animate__animated animate__fadeIn",t.style.setProperty("--animate-duration","2s"),t.style.display="block",setInterval(()=>{e.className="animate__animated animate__fadeIn",e.style.setProperty("--animate-duration","2s"),e.style.display="block"},3e3)},H=(t,e,s,a)=>{e.width=t.clientWidth,e.height=t.clientHeight;let n=e.getContext("2d");n.globalCompositeOperation="lighter",n.translate(80,100);let i=new o(n,e);setInterval(function(){i.render()},o.options.growSpeed);let h=50,r=10,l=[],c=t.offsetWidth/2,d=t.offsetHeight/2-55,b=setInterval(()=>{let u=k(r,c,d),v=!0;for(let p=0;p<l.length;p++){let g=l[p];if(Math.sqrt(Math.pow(g[0]-u[0],2)+Math.pow(g[1]-u[1],2))<o.options.bloomRadius.max*1.3){v=!1;break}}v&&(l.push(u),i.createRandomBloom(u[0],u[1])),r>=30?(clearInterval(b),console.log("fadein"),A(s,a)):r+=.2},h)};const R={id:"loveHeart"},P=C('<canvas id="garden" data-v-e7442116></canvas><div id="words" data-v-e7442116><div id="messages" data-v-e7442116> Rongrong, I have fallen in love with you for <div id="elapseClock" data-v-e7442116></div></div><div id="loveu" data-v-e7442116> Love u forever and ever.<br data-v-e7442116><div class="signature" data-v-e7442116>- Yuehui</div></div></div>',2),F=[P],T=_({setup(t){let e=w(new Date);return e.value.setFullYear(2015,4,23),e.value.setHours(0),e.value.setMinutes(0),e.value.setSeconds(0),e.value.setMilliseconds(0),I(()=>{const s=document.getElementById("loveHeart"),a=document.getElementById("elapseClock"),n=document.getElementById("garden"),i=document.getElementById("messages"),h=document.getElementById("loveu"),r=e.value.toString();setTimeout(function(){H(s,n,i,h)},500),f(r,a),setInterval(function(){f(r,a)},500)}),(s,a)=>(B(),S("div",R,F))}});var N=M(T,[["__scopeId","data-v-e7442116"]]);export{N as l};
